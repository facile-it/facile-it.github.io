<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>Common problems faced by PHP developers in consuming an AMQP message</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="referrer" content="always">
        <meta name="generator" content="Hugo 0.69.0" />
        


        
        
            
                <meta name="description" content="News, repos, tips &amp; trends from the Facile.it Engineering team!">
            
        

        
    
        <meta name="twitter:card" content="summary"/>
        
            <meta name="twitter:image:src" content="https://engineering.facile.it/images/social/twitter-card-logo.png"/>
        
    
    
    <meta name="twitter:title" content="Common problems faced by PHP developers in consuming an AMQP message"/>
    <meta name="twitter:description" content="When we use RabbitMQ and our project is in PHP, we have to run a Consumer and we could encounter some common and still unresolved problems.
In order to implement RabbitMQ in the project, there are different ready to use packages, especially when we use a framework like Symfony or Laravel. Usually these packages provide the full integration needed for the AMQP protocol, so we can easily configure it and create a Producer and a Consumer; then, we have to create a little script that will supervise the PHP process in order to make sure that all our consumers are running."/>
    
        
            
        
    


<meta name="twitter:site" content="@FacileIt_Engr"/>


        <meta property="og:title" content="Common problems faced by PHP developers in consuming an AMQP message" />
<meta property="og:description" content="When we use RabbitMQ and our project is in PHP, we have to run a Consumer and we could encounter some common and still unresolved problems.
In order to implement RabbitMQ in the project, there are different ready to use packages, especially when we use a framework like Symfony or Laravel. Usually these packages provide the full integration needed for the AMQP protocol, so we can easily configure it and create a Producer and a Consumer; then, we have to create a little script that will supervise the PHP process in order to make sure that all our consumers are running." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://engineering.facile.it/blog/eng/common-problems-faced-by-php-developers-in-consuming-an-ampq-message/" />
<meta property="article:published_time" content="2019-05-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-05-29T00:00:00+00:00" />


        
            
                
                <meta property="og:image" content="https://engineering.facile.it/images/logo.png">
                
            
        

        <meta itemprop="name" content="Common problems faced by PHP developers in consuming an AMQP message">
<meta itemprop="description" content="When we use RabbitMQ and our project is in PHP, we have to run a Consumer and we could encounter some common and still unresolved problems.
In order to implement RabbitMQ in the project, there are different ready to use packages, especially when we use a framework like Symfony or Laravel. Usually these packages provide the full integration needed for the AMQP protocol, so we can easily configure it and create a Producer and a Consumer; then, we have to create a little script that will supervise the PHP process in order to make sure that all our consumers are running.">
<meta itemprop="datePublished" content="2019-05-29T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-05-29T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2425">



<meta itemprop="keywords" content="" />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/additional.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css' rel='stylesheet' type='text/css' />
  


      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-22342495-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">Facile.it Engineering</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-folder-open-o">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/authors/">
                            <i class="fa fa-pencil">&nbsp;</i>Authors
                    </a>
                </li>
            
                <li>
                    <a href="/ita/careers/">
                            <i class="fa fa-briefcase">&nbsp;</i>Careers
                    </a>
                </li>
            
                <li>
                    <a href="/eng/who-we-are/">
                            <i class="fa fa-users">&nbsp;</i>Who we are
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://engineering.facile.it">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://engineering.facile.it">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-folder-open-o">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/authors/">
                            <h3>
                                <i class="fa fa-pencil">&nbsp;</i>Authors
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/ita/careers/">
                            <h3>
                                <i class="fa fa-briefcase">&nbsp;</i>Careers
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/eng/who-we-are/">
                            <h3>
                                <i class="fa fa-users">&nbsp;</i>Who we are
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section id="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/v-protetto14-4-2023/">Venerdì Protetto - April 14th 2023</a></h3>
                                
                                <time class="published" datetime=
                                    '2023-04-21'>
                                    April 21, 2023</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/v-protetto/">Venerdì Protetto, AKA Protected Friday</a></h3>
                                
                                <time class="published" datetime=
                                    '2023-04-21'>
                                    April 21, 2023</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/madr-template-for-capturing-decisions/">MADR template for capturing decisions</a></h3>
                                
                                <time class="published" datetime=
                                    '2023-03-28'>
                                    March 28, 2023</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li>
  <a href="//twitter.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f&amp;text=Common%20problems%20faced%20by%20PHP%20developers%20in%20consuming%20an%20AMQP%20message&amp;via=FacileIt_Engr" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>


<li>
  <a href="//plus.google.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>


<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>


<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f&amp;title=Common%20problems%20faced%20by%20PHP%20developers%20in%20consuming%20an%20AMQP%20message" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>


<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f&amp;title=Common%20problems%20faced%20by%20PHP%20developers%20in%20consuming%20an%20AMQP%20message" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>


<li>
  <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f&amp;title=Common%20problems%20faced%20by%20PHP%20developers%20in%20consuming%20an%20AMQP%20message" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>


<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f&amp;description=Common%20problems%20faced%20by%20PHP%20developers%20in%20consuming%20an%20AMQP%20message" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>


<li>
  <a href="mailto:?subject=Check out this post by &amp;body=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fcommon-problems-faced-by-php-developers-in-consuming-an-ampq-message%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog/eng/common-problems-faced-by-php-developers-in-consuming-an-ampq-message/">Common problems faced by PHP developers in consuming an AMQP message</a></h1>
            
        
        
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2019-05-29'>
            29 May 2019
        </time>

        
            <a href="/authors/emulator000/" class="author">
            
                <span class="name">Dario Cancelliere</span>
                <img src="https://secure.gravatar.com/avatar/d2df7435df5986e9e5968d9a75c407b9" alt="Dario Cancelliere avatar" />
            
            </a>
        

        
            <p>12 minute read</p>
        
    </div>
</header>


  


  
    <nav id="TableOfContents">
  <ul>
    <li><a href="#consumer">Consumer</a>
      <ul>
        <li><a href="#the-memory-problem">The memory problem</a></li>
        <li><a href="#multiple-consumers">Multiple consumers</a></li>
        <li><a href="#updating-the-codebase">Updating the codebase</a></li>
        <li><a href="#the-network-problem">The network problem</a></li>
      </ul>
    </li>
    <li><a href="#some-solution">Some solution</a>
      <ul>
        <li><a href="#rabbitmq-cli-consumer">RabbitMQ cli consumer</a></li>
        <li><a href="#our-rabbitmq-consumer">Our RabbitMQ consumer</a>
          <ul>
            <li><a href="#why-rust">Why Rust</a></li>
            <li><a href="#using-the-consumer">Using the consumer</a></li>
            <li><a href="#sample-configuration">Sample configuration</a></li>
            <li><a href="#queues-in-a-mysql-database">Queues in a MySQL database</a></li>
            <li><a href="#a-simple-symfony-command">A simple Symfony command</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#conclusions">Conclusions</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
  

  <div id="content">
    <p>When we use RabbitMQ and our project is in PHP, we have to run a Consumer and we could encounter some common and still unresolved problems.</p>
<p>In order to implement RabbitMQ in the project, there are different ready to use packages, especially when we use a framework like Symfony or Laravel. Usually these packages provide the full integration needed for the AMQP protocol, so we can easily configure it and create a Producer and a Consumer; then, we have to create a little script that will supervise the PHP process in order to make sure that all our consumers are running.</p>
<h1 id="consumer">Consumer</h1>
<p>In order to consume a message, we have to run a demon that will listen for new messages, then process each message executing some logic: this is a normal flow in case of blocking requests, and we don&rsquo;t want to block the user request nor loose it.</p>
<p>We want also to keep track of all requests and if one fails, we could retry to process it again or just ignore it if some blocking error occurs.</p>
<h2 id="the-memory-problem">The memory problem</h2>
<p>A normal PHP script serves a single request, then the script <em>dies</em> naturally as the execution of provided instructions is completed, and the allocated memory is freed. In a PHP consumer we have to execute a long running PHP process: this will cause us to face a memory problem, because PHP is not properly designed to achieve this goal, and this will cause trouble for sure if we don&rsquo;t pay attention to the script code.</p>
<p>Normally, you don&rsquo;t notice any memory issue due to fact that the script runs for few seconds; also, in a long running PHP process, if you try and run a simple script for few minutes it could not use any additional memory at all, but if you use some framework, an ORM or you are in a complex application with many dependencies, the application will eventually allocate some memory (e.g. for caching results), and you could even notice a progressive increase of the memory used by the PHP process due to some memory leaks.</p>
<p>That&rsquo;s not a problem at all in a normal case, where the script ends and the memory is freed normally, but the case is not that obvious for a long running process like the one required by a PHP consumer. It will break, leak and, in some cases, corrupt the memory, and this will make the process crash or, more drastically, fail to run some instructions, as the opcode cache gets changed while the process is running.</p>
<p>If you are interested in more accurate details and information, I suggest reading <a href="http://notjam.es/blog/2014/06/18/the-problems-with-long-running-php.html">this article</a>: it&rsquo;s pretty old, but explains this issue very well.</p>
<h2 id="multiple-consumers">Multiple consumers</h2>
<p>For a PHP consumer it&rsquo;s very hard to process multiple messages at the same time, because PHP runs in a single thread, and a proper async/await interface is not well supported or mature. Again, PHP is not designed for this scope and this could be a limit in some circumstances: scaling is really hard.</p>
<p>Running multiple PHP consumers is not a good idea as well: given a framework-based application, it could use a huge amounts of RAM, easily GBs. If during the &ldquo;waiting&rdquo; time there are no messages, it&rsquo;s going to be a serious waste of memory that could be used instead for some other resources or requests.</p>
<h2 id="updating-the-codebase">Updating the codebase</h2>
<p>Another common problem with PHP consumers is when we need to update the codebase: if we deploy something that changes the code and some service used by the consumer, we can easily break the integrity of the entire long running process execution.</p>
<p>We have to shutdown all consumers and sometimes we must force kill processes: they could hang due to memory corruption, so we have to start them again with a script (obviously) that will trigger automatically during the deploy or within the pipeline.</p>
<h2 id="the-network-problem">The network problem</h2>
<p>When we work with a network based service, we have to expect failures and we must have some reconnection policies. A common problem when we have a long running PHP process is a broken pipe (in a very popular bundle this is still an issue due to PHP nature, <a href="https://github.com/php-amqplib/RabbitMqBundle/issues/301">see here</a>) because we can&rsquo;t use a feature that is exactly made for this sort of issues resolution, the Heartbeat. In a AMPQ server connection, normally we have to implement a sort &ldquo;ping&rdquo; mechanism, this is a mention of the <a href="https://www.rabbitmq.com/heartbeats.html">official RabbitMQ documentation</a>:</p>
<blockquote>
<p>Network can fail in many ways, sometimes pretty subtle (e.g. high ratio packet loss). Disrupted TCP connections take a moderately long time (about 11 minutes with default configuration on Linux, for example) to be detected by the operating system. AMQP 0-9-1 offers a heartbeat feature to ensure that the application layer promptly finds out about disrupted connections (and also completely unresponsive peers). Heartbeats also defend against certain network equipment which may terminate &ldquo;idle&rdquo; TCP connections.</p>
</blockquote>
<p>This is something that is still not possible in PHP and obviously cause troubles in our PHP consumer.</p>
<h1 id="some-solution">Some solution</h1>
<p>We ran this configuration for some time and we experienced ALL of these problems randomly during the normal application flows. We decided to find a good solution and we ended up with an external CLI command processor written in another language and designed for the scope.</p>
<p>The pros of having an external consumer like this is that we haven&rsquo;t to care of the supervision of the process nor worries in case of changes on the codebase.</p>
<h2 id="rabbitmq-cli-consumer">RabbitMQ cli consumer</h2>
<p>Initially we used <a href="https://github.com/corvus-ch/rabbitmq-cli-consumer">this consumer</a> written in Go, it&rsquo;s very well documented and light enough. We still use it for some projects though.</p>
<blockquote>
<p>This is a fork of the work done by Richard van den Brand and provides a command that aims to solve the above described problem for RabbitMQ workers by delegate the long running part to a tool written in go which is much better suited for this task. The PHP application then is only executed when there is an AMQP message to process. This is comparable to how HTTP requests usually are handled where the webs server waits for new incoming requests and calls your script once for each request.</p>
</blockquote>
<p>Anyway, scaling with this consumer was a bit tedious because we have to attach more than one consumer per queue in order to run parallel processes. That could be okay for few consumers but if we have to run more than 10 consumers, this is not good for the RabbitMQ load and resource consumption as we create 10 parallel connections. Making too many connection is severely discouraged as mentioned <a href="https://www.rabbitmq.com/tutorials/amqp-concepts.html#amqp-channels">here</a>:</p>
<blockquote>
<p>Some applications need multiple connections to an AMQP broker. However, it is undesirable to keep many TCP connections open at the same time because doing so consumes system resources and makes it more difficult to configure firewalls. AMQP 0-9-1 connections are multiplexed with channels that can be thought of as &ldquo;lightweight connections that share a single TCP connection&rdquo;.</p>
<p>For applications that use multiple threads/processes for processing, it is very common to open a new channel per thread/process and not share channels between them.</p>
</blockquote>
<h2 id="our-rabbitmq-consumer">Our RabbitMQ consumer</h2>
<p>I decided to write something internally here in Facile.it because our need was a bit different, we wanted a stable, scalable, connections optimized and memory usage consumer.</p>
<p>Another necessity was to enable or disable a certain queue remotely, for example, with a MySQL database that allows the changing of some parameters without restarting the consumer so we could just enable or disable it with a click.</p>
<p>I could write this consumer in many languages, for example Go, Java or why not C++ but as I&rsquo;m a Rust addicted, I decided to write this consumer in <a href="https://www.rust-lang.org/en-US/">Rust</a>.</p>
<p>Our RabbitMQ consumer is open-source and you can compile it for any OS compatible with Rust. You can find it on GitHub: <a href="https://github.com/facile-it/rabbitmq-consumer">https://github.com/facile-it/rabbitmq-consumer</a></p>
<p>If you want a ready to use binary, just go in <a href="https://github.com/facile-it/rabbitmq-consumer/releases">Releases</a> and download a pre-compiled binary.</p>
<h3 id="why-rust">Why Rust</h3>
<p>I&rsquo;ll simply mention this quote directly from the Rust website:</p>
<blockquote>
<p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety.</p>
</blockquote>
<p>Main features are:</p>
<ul>
<li>zero-cost abstractions</li>
<li>move semantics</li>
<li>guaranteed memory safety</li>
<li>threads without data races</li>
<li>trait-based generics</li>
<li>pattern matching</li>
<li>type inference</li>
<li>minimal runtime</li>
<li>efficient C bindings</li>
</ul>
<p>Isn&rsquo;t this something that we would like to found in a RabbitMQ consumer? In fact, I looked for reliability, stability and memory safety first.</p>
<p>When I was looking for a good AMQP protocol integration library, I discovered <a href="https://github.com/sozu-proxy/lapin">Lapin</a> that uses the asynchronous interface thanks to <a href="https://github.com/tokio-rs/tokio">Tokio</a> and <a href="https://github.com/rust-lang-nursery/futures-rs">Futures</a>.</p>
<h3 id="using-the-consumer">Using the consumer</h3>
<p>Place the downloaded binary and the configuration in a separated folder with the <code>config</code> folder and in order to start/stop the consumer process, you could create a little PHP script that will do this or manage it with supervisor in production.</p>
<p>You can start the process running:</p>
<pre><code>$ rabbitmq-consumer
</code></pre><p>Attach an environment like <code>dev</code>, <code>prod</code> or any other preferred name in this way:</p>
<pre><code>$ rabbitmq-consumer --env=dev
</code></pre><p>Please make sure that the binary has the &ldquo;execute&rdquo; permission, when the process starts, it will print a log like this:</p>
<pre><code class="language-log" data-lang="log">2018-10-19 14:02:53 - config/config.toml loaded correctly.
2018-10-19 14:02:53 - Connection to: V4(127.0.0.1:5672)
2018-10-19 14:02:53 - Managing queues...
2018-10-19 14:02:53 - [example] Queue created
2018-10-19 14:02:53 - [example] Created channel with id: 1
2018-10-19 14:02:53 - [example] Consumer #0 declared &quot;example_consumer_0&quot;
</code></pre><h3 id="sample-configuration">Sample configuration</h3>
<p>You can use the default configuration provided by the repository and copy it as <code>config.toml</code> in order to run the binary without any additional parameter.</p>
<p>This is the default config content:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">rabbit</span>]
<span style="color:#a6e22e">host</span> = <span style="color:#e6db74">&#34;localhost&#34;</span>
<span style="color:#a6e22e">port</span> = <span style="color:#ae81ff">5672</span>
<span style="color:#a6e22e">username</span> = <span style="color:#e6db74">&#34;guest&#34;</span>
<span style="color:#a6e22e">password</span> = <span style="color:#e6db74">&#34;guest&#34;</span>
<span style="color:#a6e22e">vhost</span> = <span style="color:#e6db74">&#34;/&#34;</span>
<span style="color:#a6e22e">queue_prefix</span> = <span style="color:#e6db74">&#34;queue_&#34;</span>
<span style="color:#a6e22e">reconnections</span> = <span style="color:#ae81ff">0</span>

[[<span style="color:#a6e22e">rabbit</span>.<span style="color:#a6e22e">queues</span>]]
<span style="color:#a6e22e">id</span> = <span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">queue_name</span> = <span style="color:#e6db74">&#34;example&#34;</span>
<span style="color:#a6e22e">consumer_name</span> = <span style="color:#e6db74">&#34;example&#34;</span>
<span style="color:#a6e22e">command</span> = <span style="color:#e6db74">&#34;php ../bin/console message:processor&#34;</span>
<span style="color:#a6e22e">command_timeout</span> = <span style="color:#ae81ff">30</span>
<span style="color:#a6e22e">base64</span> = <span style="color:#66d9ef">false</span>
<span style="color:#a6e22e">start_hour</span> = <span style="color:#e6db74">&#34;00:00:00&#34;</span>
<span style="color:#a6e22e">end_hour</span> = <span style="color:#e6db74">&#34;23:59:59&#34;</span>
<span style="color:#a6e22e">count</span> = <span style="color:#ae81ff">1</span>
<span style="color:#a6e22e">retry_wait</span> = <span style="color:#ae81ff">120</span>
<span style="color:#a6e22e">retry_mode</span> = <span style="color:#e6db74">&#34;incremental&#34;</span>
<span style="color:#a6e22e">enabled</span> = <span style="color:#66d9ef">true</span>

[<span style="color:#a6e22e">database</span>]
<span style="color:#a6e22e">enabled</span> = <span style="color:#66d9ef">false</span>
<span style="color:#a6e22e">host</span> = <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#a6e22e">port</span> = <span style="color:#ae81ff">3306</span>
<span style="color:#a6e22e">user</span> = <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#a6e22e">password</span> = <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#a6e22e">db_name</span> = <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#a6e22e">retries</span> = <span style="color:#ae81ff">3</span>
</code></pre></div><p>The configuration is well explained in the <a href="https://github.com/facile-it/rabbitmq-consumer#configtoml">config.toml</a> section of the repository, anyway this configuration provides one queue with the MySQL connection disabled.</p>
<p>For each received messages, the consumer will execute <code>php ../bin/console message:processor</code> command and sends the content as parameters, for example, if the received message is <code>--option 1</code>, the full executed command will be:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">php ../bin/console message:processor --option <span style="color:#ae81ff">1</span>
</code></pre></div><p>I put <code>../bin</code> here because usually I create a folder specific for the consumer binary content, so you have to go back by just one directory for the script path.</p>
<p>Using a relative path anyway is a bit discouraged, it&rsquo;s always better to put an absolute path as command path in order to avoid old code execution in case you deploy the consumer with the entire PHP application.</p>
<p>All the message content is parsed as arguments for our command, don&rsquo;t worry, this will can&rsquo;t execute any malicious command because every parameter is splitted automatically by a space and can&rsquo;t be an executed (like <code>| grep</code> or other commands).</p>
<p>You can find some details on how configure the consumer properly in the repository README, precisely in <a href="https://github.com/facile-it/rabbitmq-consumer#configuration">this section</a>.</p>
<h3 id="queues-in-a-mysql-database">Queues in a MySQL database</h3>
<p>If you want to manage remotely the queues, you must enable the database configuration:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">database</span>]
<span style="color:#a6e22e">enabled</span> = <span style="color:#66d9ef">true</span>
<span style="color:#a6e22e">host</span> = <span style="color:#e6db74">&#34;localhost&#34;</span>
<span style="color:#a6e22e">port</span> = <span style="color:#ae81ff">3306</span>
<span style="color:#a6e22e">user</span> = <span style="color:#e6db74">&#34;user&#34;</span>
<span style="color:#a6e22e">password</span> = <span style="color:#e6db74">&#34;pass&#34;</span>
<span style="color:#a6e22e">db_name</span> = <span style="color:#e6db74">&#34;example&#34;</span>
<span style="color:#a6e22e">retries</span> = <span style="color:#ae81ff">3</span>
</code></pre></div><p>This configuration will allow the consumer to fetch a <code>queues</code> table directly from the database, you can find the needed DDL <a href="https://github.com/facile-it/rabbitmq-consumer#queues-and-consumers">here</a>.</p>
<p>The <code>retries</code> parameter defines the number of retry when the MySQL connection is lost, if all <code>3</code> retries fails, the process ends and you will have to restart it manually.</p>
<h3 id="a-simple-symfony-command">A simple Symfony command</h3>
<p>In order to execute a command, we need to create a PHP command, we use Symfony 3 (and 4) as framework for some projects and this could be an example of command created for the consumer:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>

<span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Input\InputInterface</span>;
<span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Input\InputDefinition</span>;
<span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Input\InputOption</span>;
<span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Output\OutputInterface</span>;

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MessageProcessorCommand</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">ContainerAwareCommand</span>
{
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">CODE_SUCCESS</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">CODE_ERROR</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">CODE_FATAL_ERROR</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
 
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">configure</span>()
    {
        $this
            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#39;message:processor&#39;</span>)
            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDefinition</span>(
                <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InputDefinition</span>(
                    [
                        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InputOption</span>(<span style="color:#e6db74">&#39;option&#39;</span>, <span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#a6e22e">InputOption</span><span style="color:#f92672">::</span><span style="color:#a6e22e">VALUE_OPTIONAL</span>),
                        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InputOption</span>(<span style="color:#e6db74">&#39;option2&#39;</span>, <span style="color:#e6db74">&#39;o2&#39;</span>, <span style="color:#a6e22e">InputOption</span><span style="color:#f92672">::</span><span style="color:#a6e22e">VALUE_OPTIONAL</span>),
                    ]
                )
            )
        ;
    }

    <span style="color:#e6db74">/**
</span><span style="color:#e6db74">     * @param InputInterface $input
</span><span style="color:#e6db74">     * @param OutputInterface $output
</span><span style="color:#e6db74">     *
</span><span style="color:#e6db74">     * @return int
</span><span style="color:#e6db74">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">run</span>(<span style="color:#a6e22e">InputInterface</span> $input, <span style="color:#a6e22e">OutputInterface</span> $output)
    {
        <span style="color:#75715e">// We put this code here because we want to have the certainty of the
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// &#34;exit code&#34; returned if an unhandled exception occurs in a non-&#34;ignored&#34;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// consumer &#34;retry_mode&#34; configuration
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// For example: if you pass an invalid option to the Symfony command, this will
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// throw an exception that you can&#39;t handle in the &#34;execute&#34; method and the
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// default &#34;exit code&#34; is 0 and this means &#34;Acknowledgement&#34; for our consumer.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">try</span> {
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">parent</span><span style="color:#f92672">::</span><span style="color:#a6e22e">run</span>($input, $output);
        } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">\Throwable</span> $t) {
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">CODE_FATAL_ERROR</span>;
        }
    }
 
    <span style="color:#e6db74">/**
</span><span style="color:#e6db74">     * @param InputInterface $input
</span><span style="color:#e6db74">     * @param OutputInterface $output
</span><span style="color:#e6db74">     *
</span><span style="color:#e6db74">     * @return int
</span><span style="color:#e6db74">     */</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">execute</span>(<span style="color:#a6e22e">InputInterface</span> $input, <span style="color:#a6e22e">OutputInterface</span> $output)
    {
        <span style="color:#66d9ef">try</span> {
            $option <span style="color:#f92672">=</span> $input<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#39;option&#39;</span>) <span style="color:#f92672">??</span> <span style="color:#e6db74">&#39;&#39;</span>;
            $option2 <span style="color:#f92672">=</span> $input<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#39;option2&#39;</span>) <span style="color:#f92672">??</span> <span style="color:#e6db74">&#39;&#39;</span>;

            <span style="color:#75715e">// You can return any code if you are in &#34;incremental&#34; or &#34;static&#34; &#34;retry_mode&#34;
</span><span style="color:#75715e"></span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">CODE_SUCCESS</span>;
        } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">\Throwable</span> $t) {
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">CODE_FATAL_ERROR</span>;
        }
    }
}
</code></pre></div><p>As you can see, I defined some constants like <code>CODE_SUCCESS</code>, <code>CODE_ERROR</code> and <code>CODE_FATAL_ERROR</code>, this will reflect the consumer exit codes logic as described on the consumer repository:</p>
<table>
<thead>
<tr>
<th align="center">Exit Code</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td>Acknowledgement</td>
</tr>
<tr>
<td align="center">1</td>
<td>Negative acknowledgement and re-queue</td>
</tr>
<tr>
<td align="center">2</td>
<td>Negative acknowledgement</td>
</tr>
</tbody>
</table>
<p>Please note that these return codes will be ignored and the message always skipped if you set the queue with <code>retry_mode</code> as <code>ignored</code>.</p>
<h1 id="conclusions">Conclusions</h1>
<p>Of course, the external RabbitMQ consumer is a good compromise because we can avoid common PHP problems and use a fully separated consumer. By the way, this solution also have a contraindication: you have to pay the command bootstrap time for each message if you use a PHP application using a framework (like Symfony or Laravel).</p>
<p>If you run a simple application, this is not a big issue, the command calls a simple script and simply execute it but, if you use a framework, this could be a problem and slow down the application or use a bit more resources when the single command is executed each time.</p>
<p>As you can see, there isn&rsquo;t a perfect solution for this problem or anyway I didn&rsquo;t found it yet.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://medium.com/@sergey.kolodyazhnyy/consuming-amqp-messages-in-php-6650c06936fa">Consuming AMQP messages in PHP</a></li>
<li><a href="http://notjam.es/blog/2014/06/18/the-problems-with-long-running-php.html">The problems with long running PHP scripts</a></li>
<li><a href="https://www.rabbitmq.com/clients.html">Client Documentation</a></li>
<li><a href="https://www.cloudamqp.com/blog/2018-01-19-part4-rabbitmq-13-common-errors.html">13 common RabbitMQ mistakes</a></li>
<li><a href="https://alanstorm.com/php-meminfo-and-memory-leaks/">PHP Meminfo and Memory Leaks</a></li>
</ul>

  </div>

  

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/english">English</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/rabbitmq">RabbitMQ</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/amqp">AMQP</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/consumer">Consumer</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/php">PHP</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/rust">Rust</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/go">Go</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
    </ul>
  </li>
</ul>

  </footer>

</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "facile-it" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>


<ul class="actions pagination">
    
        <li><a href="/blog/eng/continuous-deployment-from-gitlab-ci-to-k8s-using-docker-in-docker/"
                class="button big previous">Continuous deployment from GitLab CI to Kubernetes using Docker-in-Docker</a></li>
    

    
        <li><a href="/blog/eng/operators-overview/"
                class="button big next">Operators: an overview</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/'><img src="/images/logo_engineering.png" width="100%" alt="Facile.it Engineering" /></a>
      
    
    
      <header>
        <h2></h2>
        <p>News, repos, tips & trends from the Facile.it Engineering team!</p>
      </header>
    
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























  <li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>









  <li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>













  <li><a href="//instagram.com/facile.it" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
  </section>

  
  <section id="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/engineering/" class="author" title="See other posts from Facile.it engineers">
                      <img src="https://avatars1.githubusercontent.com/u/8501934?v=3&amp;s=200" alt="Facile.it engineers avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/v-protetto14-4-2023/">Venerdì Protetto - April 14th 2023</a>
              </h3>
              
              <time class="published" datetime='2023-04-21'>
                21 April 2023
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/engineering/" class="author" title="See other posts from Facile.it engineers">
                      <img src="https://avatars1.githubusercontent.com/u/8501934?v=3&amp;s=200" alt="Facile.it engineers avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/v-protetto/">Venerdì Protetto, AKA Protected Friday</a>
              </h3>
              
              <time class="published" datetime='2023-04-21'>
                21 April 2023
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/ana-radujko/" class="author" title="See other posts from Ana Radujko">
                      <img src="https://s.gravatar.com/avatar/13c2d19c1d59562ca74b71f5444943c5?s=80" alt="Ana Radujko avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/madr-template-for-capturing-decisions/">MADR template for capturing decisions</a>
              </h3>
              
              <time class="published" datetime='2023-03-28'>
                28 March 2023
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Top categories</a></h3>
      </header>
        
          
        

        
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/conferences/">Conferences</a>
                <span style="float:right;">10</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/docker/">Docker</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/english/">English</a>
                <span style="float:right;">41</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/functional-programming/">Functional programming</a>
                <span style="float:right;">11</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/italiano/">Italiano</a>
                <span style="float:right;">34</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/oop/">OOP</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/open-source/">Open Source</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/php/">PHP</a>
                <span style="float:right;">23</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/software-testing/">Software Testing</a>
                <span style="float:right;">7</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/swift/">Swift</a>
                <span style="float:right;">8</span>
              
            </header>
          </article>
        </p>
        
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/symfony/">Symfony</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
        <p>
            <a href="/categories/" class="button">View more categories</a>
        </p>
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h1>
      <p>Facile.it relies on a big and keen crew of developers. Since 2008, the group’s projects are based on PHP, and as time goes by new technologies become part of corporate know how. This blog allows our developers to share tips and direct experiences with new technologies.</p>
      <a href="/ita/chi-siamo/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























  <li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>









  <li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>













  <li><a href="//instagram.com/facile.it" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
    <p class="copyright">
      
        &copy; 2023
        
          Facile.it Engineering
        
      .
      <a href="/ita/disclaimer/" rel="nofollow">Disclaimer</a><br>
      Design <a href="http://html5up.net" rel="nofollow" target="_blank">HTML5 UP</a><br>
      Ported by <a href="//github.com/jpescador" rel="nofollow" target="_blank">Julio Pescador</a><br>
      Modified by <a href="//github.com/Jean85" rel="nofollow" target="_blank">Alessandro Lai</a><br>
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/dockerfile.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/kotlin.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/objectivec.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/python.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/swift.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
      <script type="text/javascript" src="/js/jquery-lazy/jquery.lazy.min.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript">
        $(function() {
            $('.lazy').Lazy();
        });
    </script>
  </body>
</html>

