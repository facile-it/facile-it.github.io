<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/engineering.facile.it\/"
        },
        "articleSection" : "blog",
        "name" : "Puli: Universal Packages for PHP",
        "headline" : "Puli: Universal Packages for PHP",
        "description" : "\u003ch2 id=\u0022composer-e-lecosistema-php\u0022\u003eComposer e l\u0026rsquo;ecosistema PHP\u003c\/h2\u003e\n\u003cp\u003eL\u0026rsquo;ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all\u0026rsquo;introduzione di \u003cem\u003eComposer\u003c\/em\u003e.\nEsso ha definito degli standard per risolvere problemi comuni come l\u0026rsquo;autoloading e la gestione di pacchetti e dipendenze.\nIn questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.\u003c\/p\u003e\n\u003cp\u003eNonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete.\nI framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i \u003cem\u003etemplate engines\u003c\/em\u003e.\nComposer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework.\u003c\/p\u003e",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2015",
        "datePublished": "2015-12-15 00:00:00 \u002b0000 UTC",
        "dateModified" : "2015-12-15 00:00:00 \u002b0000 UTC",
        "url" : "https:\/\/engineering.facile.it\/blog\/ita\/puli-universal-packages-for-php\/",
        "wordCount" : "1276",
        "keywords" : [ "Blog" ]
    }
    </script>
        
            
                <title>Puli: Universal Packages for PHP</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="referrer" content="always">
        <meta name="generator" content="Hugo 0.134.2">
        


        
        
            
                <meta name="description" content="Composer e l&rsquo;ecosistema PHP
L&rsquo;ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all&rsquo;introduzione di Composer.
Esso ha definito degli standard per risolvere problemi comuni come l&rsquo;autoloading e la gestione di pacchetti e dipendenze.
In questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.
Nonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete.
I framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i template engines.
Composer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework.">
            
        

        
<meta name="twitter:card" content="summary_large_image"/>

    
        <meta name="twitter:image" content="https://engineering.facile.it/images/social/social-preview.png"/>
        <meta name="og:image" content="https://engineering.facile.it/images/social/social-preview.png"/>
    



<meta name="og:title" content="Puli: Universal Packages for PHP"/>
<meta name="og:description" content="Composer e l&rsquo;ecosistema PHP
L&rsquo;ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all&rsquo;introduzione di Composer.
Esso ha definito degli standard per risolvere problemi comuni come l&rsquo;autoloading e la gestione di pacchetti e dipendenze.
In questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.
Nonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete.
I framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i template engines.
Composer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework."/>


    
        <meta name="twitter:creator" content="@taueres"/>
    



    <meta name="twitter:site" content="@FacileIt_Engr"/>



        <meta property="og:url" content="https://engineering.facile.it/blog/ita/puli-universal-packages-for-php/">
  <meta property="og:site_name" content="Facile.it Engineering">
  <meta property="og:title" content="Puli: Universal Packages for PHP">
  <meta property="og:description" content="Composer e l’ecosistema PHP L’ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all’introduzione di Composer. Esso ha definito degli standard per risolvere problemi comuni come l’autoloading e la gestione di pacchetti e dipendenze. In questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.
Nonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete. I framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i template engines. Composer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2015-12-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2015-12-15T00:00:00+00:00">


        
            
                <meta property="og:image" content="https://engineering.facile.it/images/social/social-preview.jpg">
            
        

        
  <meta itemprop="name" content="Puli: Universal Packages for PHP">
  <meta itemprop="description" content="Composer e l’ecosistema PHP L’ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all’introduzione di Composer. Esso ha definito degli standard per risolvere problemi comuni come l’autoloading e la gestione di pacchetti e dipendenze. In questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.
Nonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete. I framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i template engines. Composer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework.">
  <meta itemprop="datePublished" content="2015-12-15T00:00:00+00:00">
  <meta itemprop="dateModified" content="2015-12-15T00:00:00+00:00">
  <meta itemprop="wordCount" content="1276">
  <meta itemprop="keywords" content="Sergio,Italiano,PHP,Open Source">

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/additional.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css' rel='stylesheet' type='text/css' />
  


      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">Facile.it Engineering</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-folder-open">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/authors/">
                            <i class="fa fa-pencil">&nbsp;</i>Authors
                    </a>
                </li>
            
                <li>
                    <a href="/ita/careers/">
                            <i class="fa fa-briefcase">&nbsp;</i>Careers
                    </a>
                </li>
            
                <li>
                    <a href="/eng/who-we-are/">
                            <i class="fa fa-users">&nbsp;</i>Who we are
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://engineering.facile.it/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://engineering.facile.it/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-folder-open">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/authors/">
                            <h3>
                                <i class="fa fa-pencil">&nbsp;</i>Authors
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/ita/careers/">
                            <h3>
                                <i class="fa fa-briefcase">&nbsp;</i>Careers
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/eng/who-we-are/">
                            <h3>
                                <i class="fa fa-users">&nbsp;</i>Who we are
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/v-protetto12-7-2024/">Venerdì Protetto | July edition</a></h3>
                                
                                <time class="published" datetime=
                                    '2024-08-28'>
                                    August 28, 2024</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/v-protetto14-6-2024/">Venerdì Protetto | June edition</a></h3>
                                
                                <time class="published" datetime=
                                    '2024-07-02'>
                                    July 2, 2024</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/eng/hack-the-box-experience/">Hack the Box Experience</a></h3>
                                
                                <time class="published" datetime=
                                    '2024-05-30'>
                                    May 30, 2024</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa-solid fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//x.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f&amp;text=Puli%3a%20Universal%20Packages%20for%20PHP&amp;via=FacileIt_Engr" target="_blank" class="share-btn twitter">
    <i class="fa-brands fa-square-x-twitter"></i>
    <p>X</p>
    </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f" target="_blank" class="share-btn facebook">
    <i class="fa-brands fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f&amp;title=Puli%3a%20Universal%20Packages%20for%20PHP" target="_blank" class="share-btn reddit">
    <i class="fa-brand fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f&amp;title=Puli%3a%20Universal%20Packages%20for%20PHP" target="_blank" class="share-btn linkedin">
      <i class="fa-brand fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f&amp;title=Puli%3a%20Universal%20Packages%20for%20PHP" target="_blank" class="share-btn stumbleupon">
    <i class="fa-brand fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f&amp;description=Puli%3a%20Universal%20Packages%20for%20PHP" target="_blank" class="share-btn pinterest">
    <i class="fa-brand fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by &amp;body=https%3a%2f%2fengineering.facile.it%2fblog%2fita%2fpuli-universal-packages-for-php%2f" target="_blank" class="share-btn email">
    <i class="fa-solid fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog/ita/puli-universal-packages-for-php/">Puli: Universal Packages for PHP</a></h1>
            
        
        
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2015-12-15'>
            15 December 2015
        </time>

        
            <a href="/authors/sergio/" class="author">
            
                <span class="name">Sergio Santoro</span>
                <img src="https://www.gravatar.com/avatar/b2700e7cbb3c4180f2053ed342bcc9c9?s=250&amp;d=mm&amp;r=x" alt="Sergio Santoro avatar" />
            
            </a>
        

        
            <p>6 minute read</p>
        
    </div>
</header>


  


  

  <div id="content">
    <h2 id="composer-e-lecosistema-php">Composer e l&rsquo;ecosistema PHP</h2>
<p>L&rsquo;ecosistema PHP è notevolmente cambiato negli ultimi anni grazie all&rsquo;introduzione di <em>Composer</em>.
Esso ha definito degli standard per risolvere problemi comuni come l&rsquo;autoloading e la gestione di pacchetti e dipendenze.
In questi ultimi anni si è assistito ad un proliferare di numerose componenti software riusabili che hanno significativamente modificato le strategie di sviluppo.</p>
<p>Nonostante Composer si sia evoluto molto, in alcuni contesti le sue funzionalità risultano essere limitanti e incomplete.
I framework e i pacchetti più complessi hanno bisogno di una gestione personalizzata delle dipendenze. Generalmente sono necessarie operazioni di configurazione e registrazione. Ciò è specialmente vero per pacchetti core dei framework come i <em>template engines</em>.
Composer, inoltre, possiede una cattiva gestione delle risorse non PHP. I file di configurazione devono essere gestiti manualmente oppure è necessario adottare standard strettamente legati a ciascun framework.</p>
<h2 id="la-soluzione-puli">La soluzione: Puli</h2>
<p>A partire dal gennaio 2014 è stato sviluppato <strong>Puli, Universal Packages for PHP</strong>, da Bernhard Schussek.
Puli mira a risolvere i problemi d&rsquo;integrazione menzionati in precedenza creando un <strong>layer d&rsquo;astrazione aggiuntivo tra Composer e l&rsquo;applicazione</strong>. Tale layer consente di gestire le risorse secondo convenzioni indipendenti dai framework. Ciò significa che Puli può essere usato anche dalle applicazioni che non ne fanno uso.
Attualmente Puli è in Beta, la versione stabile non è stata ancora annunciata ma è prevista per l&rsquo;inizio del 2016.
<strong>Puli è stato ideato per affiancare Composer</strong>.</p>
<p>Puli lavora ad un livello più alto per fornire le seguenti funzionalità:</p>
<ul>
<li><a href="#puli-path">Gestione dei path virtuali per risorse non PHP</a>;</li>
<li><a href="#override-puli-path">Overriding dei path virtuali</a>;</li>
<li><a href="#binding-type">Interazione semplificata dei pacchetti con l&rsquo;uso di Binding Type</a>;</li>
<li><a href="#url-generation">Generazione automatica di URL per risorse pubbliche</a>;</li>
<li><a href="#assets-install">Installazione automatica delle risorse pubbliche nelle document root</a>.</li>
</ul>
<h2 id="le-componenti-di-puli">Le componenti di Puli</h2>
<p>Puli offre svariate funzionalità organizzate nei seguenti componenti:</p>
<ul>
<li>Resource repository</li>
<li>Discovery service</li>
<li>Public resources manager</li>
</ul>
<h3 id="configurazione">Configurazione</h3>
<p>Nell&rsquo;offire questi servizi, Puli legge e scrive un proprio file di configurazione <code>puli.json</code> presente nella root directory del pacchetto, allo stesso modo del <code>composer.json</code>.</p>
<p>Tale configurazione può essere modificata manualmente oppure utilizzando l&rsquo;<strong>interfaccia CLI di Puli</strong>;
Tale strumento può essere installato da Packagist tramite il pacchetto <code>puli/cli</code>.
Al pari di Composer, sono disponibili archivi Phar per un uso immediato.</p>
<h3 id="installazione">Installazione</h3>
<p>Affiché le applicazioni possano usare i servizi offerti da Puli è necessario procedere all&rsquo;installazione.
Per applicazioni che non fanno uso di framework è sufficiente abilitare il <em>Composer Plugin</em> <code>puli/composer-plugin</code>.
Quest&rsquo;azione viene svolta da Composer con il comando:</p>
<pre tabindex="0"><code>$ composer require puli/composer-plugin:^1.0
</code></pre><p>Tale plugin consente di generare atomaticamente la cosiddetta <strong>Puli Factory Class</strong>: componente chiave da cui è possibile accedere a tutti i servizi offerti da Puli.</p>
<p>A questo punto è possibile usare Puli nel modo seguente:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">require</span> <span style="color:#e6db74">&#39;./vendor/autoload.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// La costante PULI_FACTORY_CLASS viene 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// definita al &#34;composer install&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$factoryClass <span style="color:#f92672">=</span> <span style="color:#a6e22e">PULI_FACTORY_CLASS</span>;
</span></span><span style="display:flex;"><span>$factory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> $factoryClass();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$puliRepository <span style="color:#f92672">=</span> $factory<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createRepository</span>();
</span></span><span style="display:flex;"><span>$puliDiscovery  <span style="color:#f92672">=</span> $factory<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createDiscovery</span>($puliRepository);
</span></span><span style="display:flex;"><span>$puliGenerator  <span style="color:#f92672">=</span> $factory<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createUrlGenerator</span>($puliDiscovery);
</span></span></code></pre></div><h3 id="resource-repository">Resource repository</h3>
<p>Il resource repository fornisce un <strong>file system virtuale</strong> per accedere alle risorse non PHP.
Ciò consente di localizzare facilmente i file senza conoscere la loro effettiva posizione.</p>
<h4 id="accesso-alle-risorse-con-composer">Accesso alle risorse con Composer</h4>
<p>Con Composer era frequente scrivere codice di questo tipo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$translationFileName <span style="color:#f92672">=</span> <span style="color:#a6e22e">realpath</span>(<span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../vendor/acme/blog/resources/translation-it.xml&#39;</span>);
</span></span><span style="display:flex;"><span>$translationContent <span style="color:#f92672">=</span> <span style="color:#a6e22e">file_get_contents</span>($translationFileName);
</span></span></code></pre></div><p>Tale operazione fa uso di dettagli implementativi: il layout delle directory fornito da Composer. La soluzione non è riusabile nè configurabile.</p>
<p><a name="puli-path"></a></p>
<h4 id="accesso-alle-risorse-con-puli">Accesso alle risorse con Puli</h4>
<p>Ciascun pacchetto compatibile con Puli può registrare diversi <strong>Path Mapping</strong> utilizzati per tradurre i <strong>percorsi virtuali (Puli path)</strong> in <strong>percorsi reali</strong>.
Tali Path Mapping sono elencati nel <code>puli.json</code> e normalmente sono modificati con il comando Puli CLI <code>map</code>.
Ad esempio, il maintainer di acme/blog può eseguire questo comando per definire un nuovo mapping:</p>
<pre tabindex="0"><code>$ puli map /acme/blog resources
</code></pre><p>Tale operazione crea un&rsquo;associazione tra il prefisso del path virtuale <code>/acme/blog</code> e la directory <code>resources</code>.</p>
<p>Un ipotetico utilizzatore del pacchetto acme/blog potrà quindi accedere alle risorse nel seguente modo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$puliPath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/acme/blog/translation-it.xml&#39;</span>;
</span></span><span style="display:flex;"><span>$translationContent <span style="color:#f92672">=</span> $puliRepository<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">get</span>($puliPath)<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getBody</span>();
</span></span></code></pre></div><p>È importante notare come i Path mapping siano definiti dal maintainer del pacchetto. Le altre componenti si limitano ad usarli per accedere alle risorse.</p>
<p><a name="override-puli-path"></a></p>
<h4 id="resource-overriding">Resource overriding</h4>
<p>È tuttavia presente un&rsquo;eccezione a questa regola, tale concetto è alla base del <strong>Resource overriding</strong>.
Immaginiamo di dover lavorare con due pacchetti: A e B.
Il pacchetto B è dipendente dal pacchetto A.
B, tuttavia, vuole personalizzare alcune risorse fornite da A.
Il maintainer di B può quindi rimpiazzare (<em>override</em>) tali risorse aggiungengo nuovi Path Mapping.</p>
<p><a name="binding-type"></a></p>
<h3 id="discovery-service">Discovery service</h3>
<p>Il componente discovery semplifica l&rsquo;interazione tra pacchetti: consente di condividere le risorse senza codice boilerplate attraverso l&rsquo;uso di <strong>Binding Type</strong>.</p>
<p>Per il componente Discovery i pacchetti sono siddivisi in due categorie:</p>
<ul>
<li><strong>Resource providers</strong>: pacchetti che offrono risorse;</li>
<li><strong>Resource consumers</strong>: pacchetti che richiedono risorse.</li>
</ul>
<p>I Binding Types sono definiti dai resource consumers. Ciascun Binding Type è idendificato da un nome (es. <code>acme/translator/messages</code>).
I resource providers possono quindi associare una o più risorse a tali Binding Type.
<strong>L&rsquo;associazione avviene legando un Puli Path ad un Binding Type</strong>.</p>
<p>I <em>Binding Type</em> sono quindi un&rsquo;interfaccia per la condivisione di risorse.</p>
<h4 id="esempio">Esempio</h4>
<p>Esaminiamo, con un esempio, l&rsquo;interazione tra due pacchetti: <code>acme/md2html</code> e <code>acme/blog</code>.</p>
<p><code>acme/md2html</code> è un componente per tradurre contenuto Markdown verso pagine Html. Md2html è un sistema configurabile: la resa dell&rsquo;output avviene attraverso template Twig modificabili.</p>
<p><code>acme/blog</code> fornisce tools per la gestione di articoli da blog. Siccome questi ultimi possono essere scritti in Markdown, <code>acme/blog</code> fa uso di <code>acme/md2html</code>.</p>
<p>Il componente <code>acme/blog</code> può personalizzare i template di Md2html in questo modo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$md2html <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Md2Html</span>();
</span></span><span style="display:flex;"><span>$md2html<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">useHeaderTemplate</span>(<span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/resources/templates/markdown-header.twig&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$htmlContent <span style="color:#f92672">=</span> $md2html<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span>(<span style="color:#e6db74">&#39;## markdown content&#39;</span>);
</span></span></code></pre></div><p>Questo approccio ha due svantaggi:</p>
<ul>
<li><code>acme/blog</code> ha la diretta responsabilità di configurare correttamente Md2html utilizzando l&rsquo;API fornita;</li>
<li>Gli utenti di <code>acme/blog</code> non possono modificare facilmente le personalizzazioni apportate a Md2html.</li>
</ul>
<p>Tali problemi possono essere risolti con Puli.</p>
<p>Il mantainer di Md2html decide di rendere il suo pacchetto compatibile con Puli.</p>
<p>Definisce quindi il Binding Type: <code>acme/md2html/header-template</code> con il seguente comando:</p>
<pre tabindex="0"><code>$ puli type --define acme/md2html/header-template
</code></pre><p>Il maintainer di <code>acme/blog</code> può quindi usare tale Binding Type nel seguente modo:</p>
<pre tabindex="0"><code>$ puli map /acme/blog resources
$ puli bind /acme/blog/templates/markdown-header.twig acme/md2html/header-template
</code></pre><p>Così <code>acme/md2html</code> può leggere il nuovo template <code>markdown-header.twig</code> in modo trasparente.</p>
<p>Gli utilizzatori di acme/blog che desiderassero modificare tale template hanno due strategie:</p>
<ul>
<li>Modificare l&rsquo;associazione al Binding Type <code>acme/md2html/header-template</code></li>
<li>Sovrascrivere il Puli Path <code>/acme/blog/templates/markdown-header.twig</code> con il meccanismo dell&rsquo;overriding esaminato in precedenza.</li>
</ul>
<p><a name="url-generation"></a></p>
<h3 id="public-resources-manager">Public resources manager</h3>
<p>Puli gestisce anche le risorse pubbliche, gli assets. In particolare, è in grado di generare path e URL da usare nei template o nei fogli di stile.</p>
<p>Come primo passo, è necessario <strong>registrare i server web che servono tali risorse</strong>.
È possibile aggiungere un nuovo server con il comando:</p>
<pre tabindex="0"><code>$ puli server --add localhost public_html
</code></pre><p>In questo esempio, <code>localhost</code> è il nome del server, mentre <code>public_html</code> è la sua <em>document root</em>.</p>
<p>Ora è possibile pubblicare delle risorse sul server <code>localhost</code> con il comando:</p>
<pre tabindex="0"><code>$ puli publish /acme/blog/public localhost /blog
</code></pre><p>Ciò mappa il Puli Path <code>/acme/blog/public</code> alla directory <code>blog</code> della document root del server <code>localhost</code>.</p>
<p>Puli ora ha tutte le informazioni per generare i persorsi delle risorse pubbliche:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$puliPath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/acme/blog/public/images/logo.png&#39;</span>;
</span></span><span style="display:flex;"><span>$url <span style="color:#f92672">=</span> $puliGenerator<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">generateUrl</span>($puliPath);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> $url; <span style="color:#75715e">// -&gt; &#34;/blog/images/logo.png&#34;
</span></span></span></code></pre></div><p>L&rsquo;ultima operazione può essere eseguita in un template Twig con l&rsquo;utilizzo dell&rsquo;estensione <code>puli/twig-extension</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-twig" data-lang="twig"><span style="display:flex;"><span>&lt;img src=&#34;<span style="color:#75715e">{{</span> resource_url<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;/acme/blog/public/images/logo.png&#39;</span><span style="color:#f92672">)</span> <span style="color:#75715e">}}</span>&#34; /&gt;
</span></span></code></pre></div><p><a name="assets-install"></a></p>
<h4 id="installazione-delle-risorse">Installazione delle risorse</h4>
<p>Puli può installare automaticamente le risorse pubbliche nella document root dei web server.</p>
<p>Il comando è il seguente:</p>
<pre tabindex="0"><code>$ puli publish --install
Installing /acme/blog/public into public_html via symlink...
</code></pre><p>Gli autori di Puli hanno annunciato che <strong>tale funzionalità sarà rimossa da Puli CLI in favore di estensioni Gulp o altri tool simili</strong>.</p>
<h3 id="conclusioni">Conclusioni</h3>
<p>Abbiamo visto come Puli offra numerose funzionalità aggiuntive rispetto al solo utilizzo di Composer.
Puli è un progetto giovane, nel corso del tempo saranno aggiunte ulteriori funzionalità che lo renderanno ancora più potente.
Per approfondire, la documentazione ufficiale è molto chiara e completa ed è disponibile all&rsquo;indirizzo: <a href="http://docs.puli.io/">http://docs.puli.io/</a>.</p>

  </div>

  

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa-solid fa-folder"></i>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/italiano">Italiano</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/php">PHP</a></li>
                
                
                <li><a class="article-category-link" href="https://engineering.facile.it/categories/open-source">Open Source</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
    </ul>
  </li>
</ul>

  </footer>

</article>


<ul class="actions pagination">
    
        <li><a href="/blog/eng/code-reuse-a-primer/"
                class="button big previous">Code reuse: a primer</a></li>
    

    
        <li><a href="/blog/eng/write-filesystem-fuse/"
                class="button big next">Write a filesystem with FUSE</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/'><img src="/images/logo_engineering.png" width="100%" alt="Facile.it Engineering" /></a>
      
    
    
      <header>
        <h2></h2>
        <p>News, repos, tips & trends from the Facile.it Engineering team!</p>
      </header>
    
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa-solid fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa-brand fa-github"></a></li>



























  <li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn Company" class="fa-brand fa-linkedin"></a></li>









  <li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa-brands fa-facebook-square"></a></li>









  <li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa-brand fa-youtube"></a></li>













  <li><a href="//instagram.com/facile.it" target="_blank" title="Instagram" class="fa-brand fa-instagram"></a></li>





  <li><a href="//x.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa-brand fa-square-x-twitter"></a></li>























      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/ana-radujko/" class="author" title="See other posts from Ana Radujko">
                      <img src="https://s.gravatar.com/avatar/13c2d19c1d59562ca74b71f5444943c5?s=80" alt="Ana Radujko avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/v-protetto12-7-2024/">Venerdì Protetto | July edition</a>
              </h3>
              
              <time class="published" datetime='2024-08-28'>
                28 August 2024
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/engineering/" class="author" title="See other posts from Facile.it engineers">
                      <img src="https://avatars1.githubusercontent.com/u/8501934?v=3&amp;s=200" alt="Facile.it engineers avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/v-protetto14-6-2024/">Venerdì Protetto | June edition</a>
              </h3>
              
              <time class="published" datetime='2024-07-02'>
                2 July 2024
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <div class="author-avatars">
                
                  
                    <a href="/authors/agiorgianni/" class="author" title="See other posts from Alessio Giorgianni">
                      <img src="https://www.gravatar.com/avatar" alt="Alessio Giorgianni avatar" class="author-avatar"/>
                    </a>
                  
                
                  
                    <a href="/authors/mgarza/" class="author" title="See other posts from Matteo Garza">
                      <img src="/images/avatar-mgarza.jpeg" alt="Matteo Garza avatar" class="author-avatar"/>
                    </a>
                  
                
              </div>

              <h3>
                <a href="/blog/eng/hack-the-box-experience/">Hack the Box Experience</a>
              </h3>
              
              <time class="published" datetime='2024-05-30'>
                30 May 2024
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Top categories</a></h3>
      </header>
        
          
        

        
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/conferences/">Conferences</a>
                <span style="float:right;">10</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/docker/">Docker</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/english/">English</a>
                <span style="float:right;">41</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/functional-programming/">Functional Programming</a>
                <span style="float:right;">11</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/italiano/">Italiano</a>
                <span style="float:right;">34</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/oop/">OOP</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/open-source/">Open Source</a>
                <span style="float:right;">7</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/php/">PHP</a>
                <span style="float:right;">23</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/protected-fridays/">Protected Fridays</a>
                <span style="float:right;">16</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/software-testing/">Software Testing</a>
                <span style="float:right;">7</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/swift/">Swift</a>
                <span style="float:right;">8</span>
              
            </header>
          </article>
        </p>
        
    
            
        <p>
          <article>
            <header>
              
                <a href="https://engineering.facile.it/categories/symfony/">Symfony</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
        <p>
            <a href="/categories/" class="button">View more categories</a>
        </p>
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h3>
      <p>Facile.it relies on a big and keen crew of developers. Since 2008, the group’s projects are based on PHP, and as time goes by new technologies become part of corporate know how. This blog allows our developers to share tips and direct experiences with new technologies.</p>
      <a href="/ita/chi-siamo/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa-solid fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa-brand fa-github"></a></li>



























  <li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn Company" class="fa-brand fa-linkedin"></a></li>









  <li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa-brands fa-facebook-square"></a></li>









  <li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa-brand fa-youtube"></a></li>













  <li><a href="//instagram.com/facile.it" target="_blank" title="Instagram" class="fa-brand fa-instagram"></a></li>





  <li><a href="//x.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa-brand fa-square-x-twitter"></a></li>























      </ul>
    
    <p class="copyright">
      
        &copy; 2024
        
          Facile.it Engineering
        
      .
      <a href="/ita/disclaimer/" rel="nofollow">Disclaimer</a><br>
      Design <a href="http://html5up.net" rel="nofollow" target="_blank">HTML5 UP</a><br>
      Ported by <a href="//github.com/jpescador" rel="nofollow" target="_blank">Julio Pescador</a><br>
      Modified by <a href="//github.com/Jean85" rel="nofollow" target="_blank">Alessandro Lai</a><br>
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa-solid fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/dockerfile.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/kotlin.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/objectivec.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/python.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/swift.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
      <script type="text/javascript" src="/js/jquery-lazy/jquery.lazy.min.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    <script type="text/javascript">
        $(function() {
            $('.lazy').Lazy();
        });
    </script>
  </body>
</html>

